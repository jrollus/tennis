<div class='navbar-tennis'>
  <% if current_user %>
    <%= link_to cl_image_tag('teqis_white_nh9yul.png', class: 'navbar-logo'), games_path %>
  <% else %>
    <%= link_to cl_image_tag('teqis_white_nh9yul.png', class: 'navbar-logo'), root_path %>
  <% end %>
  <div class='navbar-right-section'>
    <% if current_user %>
      <div class='navbar-collapsable'>
        <% if current_user.admin %>
          <div data-controller='dropdown' class='dropdown'>
            <div class='navbar-link' data-target='dropdown.button' data-action='click->dropdown#toggleVisibility' role='button' aria-haspopup='true' aria-expanded='false'> Validation </div>  
            <div data-target='dropdown.popup' class='dropdown-content'>
              <%= link_to('Joueur', players_validations_path, class: 'dropdown-link')%>
              <%= link_to('Tournoi', tournaments_validations_path, class: 'dropdown-link')%>
            </div>
          </div>
        <% end %>
        <div data-controller='dropdown' class='dropdown'>
          <div class='navbar-link' data-target='dropdown.button' data-action='click->dropdown#toggleVisibility' role='button' aria-haspopup='true' aria-expanded='false'> Encodage </div>  
          <div data-target='dropdown.popup' class='dropdown-content'>
            <%= link_to('Match', new_game_path, class: 'dropdown-link')%>
            <%= link_to('Tournoi', new_tournament_path, class: 'dropdown-link')%>
            <%= link_to('Joueur', new_player_path, class: 'dropdown-link')%>
          </div>
        </div>
        <%= link_to 'Stats', stats_path, class: 'navbar-link' %>
        <%= link_to 'Compare', compare_path, class: 'navbar-link' %>
        <%= link_to 'Classement', ranking_histories_path, class: 'navbar-link' %>
        <h6 class='navbar-points'> <%= current_user.player.ranking_histories.last.points %> pts</h6>
      </div>
      <% if current_user.admin %>
        <div data-controller='dropdown' class='dropdown'>
          <%= cl_image_tag 'check-menu-white_mujtx9.svg', class: 'navbar-check', 
                                                     data: { target:'dropdown.button', action: 'click->dropdown#toggleVisibility'}, 
                                                     role:'button', 
                                                     'aria-haspopup': 'true', 
                                                     'aria-expanded': 'false' %>
          <div data-target='dropdown.popup' class='dropdown-content'>
            <%= link_to('Joueur', players_validations_path, class: 'dropdown-link')%>
            <%= link_to('Tournoi', tournaments_validations_path, class: 'dropdown-link')%>
          </div>
        </div>
      <% end %>
      <div data-controller='dropdown' class='dropdown'>
        <%= cl_image_tag 'plus-menu-white_tidglc.svg', class: 'navbar-plus', 
                                                     data: { target:'dropdown.button', action: 'click->dropdown#toggleVisibility'}, 
                                                     role:'button', 
                                                     'aria-haspopup': 'true', 
                                                     'aria-expanded': 'false' %>
        <div data-target='dropdown.popup' class='dropdown-content'>
          <%= link_to('Match', new_game_path, class: 'dropdown-link')%>
          <%= link_to('Tournoi', new_tournament_path, class: 'dropdown-link')%>
          <%= link_to('Joueur', new_player_path, class: 'dropdown-link')%>
        </div>
      </div>
      <div data-controller='dropdown' class='dropdown'>
        <%= cl_image_tag 'sandwich-menu-white_jj9jeb.svg', class: 'navbar-sandwich', 
                                                     data: { target:'dropdown.button', action: 'click->dropdown#toggleVisibility'}, 
                                                     role:'button', 
                                                     'aria-haspopup': 'true', 
                                                     'aria-expanded': 'false' %>
        <div data-target='dropdown.popup' class='dropdown-content'>
          <%= link_to 'Stats', stats_path, class: 'navbar-link' %>
          <%= link_to 'Compare', compare_path, class: 'navbar-link' %>
          <%= link_to 'Classement', ranking_histories_path, class: 'navbar-link' %>
        </div>
      </div>
      <div data-controller='dropdown' class='dropdown'>
        <% if current_user.avatar.attached? %>
          <%= cl_image_tag current_user.avatar.key, class: 'avatar', 
                                                    data: {target:'dropdown.button', action: 'click->dropdown#toggleVisibility'}, 
                                                    role: 'button', 
                                                    'aria-haspopup': 'true', 
                                                    'aria-expanded': 'false'  %>
        <% else %>
          <%= cl_image_tag 'tennis-ball-white_y3xhzq.svg', class: 'avatar', 
                                                            data: {target:'dropdown.button', action: 'click->dropdown#toggleVisibility'}, 
                                                            role:'button', 
                                                            'aria-haspopup': 'true', 
                                                            'aria-expanded': 'false'  %>
        <% end %>  
        <div data-target='dropdown.popup' class='dropdown-content'>
          <%= link_to('Mon compte', edit_user_registration_path , class: 'dropdown-link') %>
          <%= link_to('DÃ©connexion', destroy_user_session_path, method: :delete, class: 'dropdown-link') %>
        </div>
      </div>
    <% else %>
      <%= link_to 'Connexion', new_user_session_path , class: 'navbar-link'%>
      <%= link_to "S'inscrire", new_user_registration_path , class: 'navbar-link'%>
    <% end  %>
  </div>
</div>
